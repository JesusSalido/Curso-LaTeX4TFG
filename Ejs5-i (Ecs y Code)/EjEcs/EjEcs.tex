%%%%%%%%%%%%%% 
% Fichero: EjTablas
% Autor: J. Salido (http://www.esi.uclm.es/www/jsalido)
% Fecha: febrero, 2017
% Descripción: Ejemplo básico de inclusión de tablas.
% Ejemplo del curso: “LaTeX esencial para preparación de TFG, Tesis
% y otros documentos académicos” (Esc. Sup. Informática-UCLM)
%%%%%%%%%%%%%%




%%%%%%%%%%%%%%
% Preámbulo del documento
%%%%%%%%%%%%%%
\documentclass[11pt,a4paper]{article}
% Por defecto todas las ecuaciones quedan centradas en la página pero con la opción fleqn se consigue su alineación a la izda.
% \documentclass[11pt,a4paper,fleqn]{article}
\usepackage[spanish,es-noindentfirst]{babel} 
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry} % Márgenes 
\usepackage[skip=.3\baselineskip plus 2pt,indent]{parskip} % Salto entre párrafos 
% skip= .5\baselineskip plus 2pt -> Valor por defecto

%--- Tipografía
\usepackage{amsmath,amssymb,amsfonts}	% Símbolos matemáticos
%--- Tipografía (Opción 1)
\usepackage{newpxtext}	% La opción osf proporciona números en old style.
\usepackage{newpxmath}
%---
%--- Tipografía (Opción 2)
%\usepackage[tt=false]{libertine}
%\usepackage[libertine]{newtxmath}
%---
\usepackage{marvosym,pifont,textcomp,fontawesome5}

\usepackage[T1]{fontenc} % Codificación de salida    
\usepackage[
    protrusion=true,
    activate={true,nocompatibility},
    final,
    tracking=true,
    kerning=true,
    spacing=true,
    factor=1100]{microtype}
\SetTracking{encoding={*}, shape=sc}{40}

\usepackage{siunitx} % Uso de unidades del SI según normas ISO
\usepackage{cancel} % Calcelación de términos en una ecuación
\usepackage[normalem]{ulem} % Enfatizado mediante subrayado


% Generación de hiperenlaces
\usepackage[%
   pdftex,
   breaklinks,
   hidelinks=true,      % Oculta colores en los enlaces (negro)
    linktocpage=true,    % true = enlace al nº de pág., false=texto completo
%    colorlinks=true,         % true=colorea texto del enlace, false=recuadra el texto
	citecolor=red, % Color de la citas
	urlcolor=blue, % Color de las URL
	bookmarksnumbered=true % Incluye números en bookmarks
]{hyperref}
\usepackage{url}
\urlstyle{sf} % Estilo de URL sin serifas


% Listas
\usepackage{enumitem} % Mayor control de listas
\usepackage{multicol} % Elementos en varias columnas


% Gráficos
\usepackage{graphicx}  % Inclusión de figuras y escalado de cajas

% Declaración del path donde están los archivos de figuras. 
% También se puede incluir el path en el nombre del fichero.
\graphicspath{{../figs/}}  
\DeclareGraphicsExtensions{.pdf,.png,.jpg}
% Lista de extensiones de ficheros por orden de precedencia. De este modo no hace falta indicar la extensión del fichero y en caso de existir dos fichero con el mismos nombre y extensión diferente se emplea el que tiene una extensión con mayor prioridad.


\usepackage{caption} % Configuración de caption en objetos float

% Paquetes especiales para Química
%\usepackage[version=3]{mhchem}
%\usepackage{chemfig}


% Con estas instrucciones se ajustan los valores del índice
\setcounter{secnumdepth}{1} % Ajusta el valor del último nivel numerado
\setcounter{tocdepth}{2} %Ajusta el valor del último nivel que aparece en TOC


\author{Jesús Salido}
\title{Composición básica de ecuaciones matemáticas con \LaTeX{}}
\date{\today}

%%%%%%%%%%%%%%
% Comienzo del documento
%%%%%%%%%%%%%%
\begin{document}

\maketitle

\begin{abstract}
	Explicación breve sobre cómo se componen ecuaciones matemáticas sencillas con \LaTeX{}.
\end{abstract}

\hrule
\tableofcontents
\bigskip
\hrule

\section{Fórmulas matemáticas}
\LaTeX{} se utiliza para crear documentos de alta calidad y complejidad, como artículos académicos, tesis y libros. Una de las características más útiles de \LaTeX{} es su capacidad para crear ecuaciones matemáticas complejas de manera sencilla y eficiente.


Las ecuaciones o expresiones matemáticas emplean distintos tipos de marcas y entornos dependiendo del modo en que se desee su impresión. En una línea dentro de un párrafo, como por ejemplo, $c^{2}=a^{2}+b^{2}$, que podría ser la ecuación representativa del teorema de Pitágoras. Aunque también pueden emplear un párrafo independiente sin numeración, como en:

\[ 
    y = ax^2 + bx + c 
\]

O bien, empleando el entorno \texttt{equation} para añadir automáticamente numeración que puede ser referenciada mediante comandos: \texttt{ref}, \texttt{eqref} y \texttt{pageref} (como en la ec.~\ref{eq:cuadratica}). A continuación se muestra un ejemplo:

\begin{equation}\label{eq:cuadratica}
    y = ax^2 + bx + c 
\end{equation}

Además, \LaTeX{} tiene muchos comandos para insertar símbolos matemáticos comunes, como fracciones, sumatorios y raíces cuadradas. Por ejemplo, la siguiente ecuación utiliza algunos de estos comandos:

\begin{equation}
y = \frac{\sum_{i=1}^{n} x_i}{\sqrt{a}} + \frac{b}{c}
\end{equation}

En resumen, LaTeX es una herramienta poderosa para crear ecuaciones matemáticas complejas. Con su sintaxis simple y sus numerosos comandos matemáticos, LaTeX permite a los usuarios crear ecuaciones matemáticas con facilidad y con una calidad profesional.

Para que \LaTeX{} pueda incluir muchos símbolos matemáticos es preciso incluir algunos paquetes que ayudan en dicha tarea: \texttt{amsmath}, \texttt{amsfonts}, \texttt{amssymb}. También hay que tener en cuenta si la familia tipográfica empleada proporciona versiones para ecuaciones matemáticas de forma que el resultado mostrado sea más armonioso. 







\section{Fórmulas creadas con elementos cancelados}
Como vemos en la ecuación~\ref{eq:pitagoras} algunos términos de las ecuaciones se pueden señalar como cancelados, gracias al paquete \texttt{cancel}.\footnote{\url{https://osl.ugr.es/CTAN/macros/latex/contrib/cancel/cancel.pdf}}

% Ejemplo: Ec. numerada.
% ============
\begin{equation} \label{eq:pitagoras}
	a^{2}=b^{2} + \cancel{c^{2}}+ \xcancel{d^{2}}
\end{equation}

\noindent Otras formas de \sout{subrayar} el texto se consiguen con el paquete \uwave{\texttt{ulem}}.\footnote{\url{https://osl.ugr.es/CTAN/macros/latex/contrib/ulem/ulem.pdf}}

\noindent Las macros que proporciona el paquete \texttt{ulem} son:
\begin{itemize}[noitemsep]
	\item \verb|\uline{importante}|: texto subrayado como \uline{importante}.
	\item \verb|\uuline{urgente}|: doble subrayado como \uuline{urgente}.
	\item \verb|\uwave{ondulado}|: subrayado \uwave{ondulado}.
	\item \verb|\sout{tachado}|: texto \sout{tachado}.
	\item \verb|\xout{cruzado}|: texto \xout{cruzado}.
	\item \verb|\dashuline{discontinuo}|: subrayado \dashuline{discontinuo}.
	\item \verb|\dotuline{punteado}|: subrayado \dotuline{punteado}.
\end{itemize}



\section{Inclusión avanzada de ecuaciones matemáticas}
No hay que preocuparse demasiado por la tipografía empleada en las fórmulas, ya que \LaTeX{} hace, <<casi>> todo el trabajo, por nosotros.\footnote{Los matemáticos son muy exquisitos y no se conforman con cualquier cosa, pero nosotros debemos ser mucho menos pretenciosos si queremos resultados rápidos.}

Los ejemplos que aquí se muestran son muy sencillos pero \LaTeX{} proporciona entornos específicos más potentes. Para mostrar algo <<más sofisticado>> añado dos ejemplos más. La ec.~\ref{eq:integral} que es un poquito más compleja.

% Ejemplo:
% ============
\begin{equation}\label{eq:integral}
	I = \! \int_{-\infty}^\infty f(x)\,dx
\end{equation}

\noindent Un ejemplo de alineación de ecuación mediante entorno \texttt{flalign}:\footnote{Otra forma de conseguir el alineamiento a la izquierda de las ecuaciones se consigue añadiendo \texttt{fleqn} como opción de la clase del documento.}
\begin{flalign}
    &f(x) = -1.25x^{2} + 1.5x&
\end{flalign}

\noindent En este caso la versión con estrella (\texttt{flalign*}) suprime la numeración de la ecuación.

\noindent La ec.~\ref{eq:cuadro} muestra como producir ecuaciones con recuadro.
% Ejemplo: Ec. con recuadro (numeración exterior).
% ============
{\fboxsep 8pt \fboxrule 2.5pt 
%\fboxsep ajusta la separación entre la caja y el elemento recuadrado
%\fboxrule ajusta el espesor de la línea del recuadro:
\begin{equation}\label{eq:cuadro}
\fbox{$\displaystyle 
R = \frac{L}{2} \cdot \frac{{\left( {v_d  + v_i } \right)}}{{\left( {v_d  - v_i } \right)}}
$}
\end{equation}
}


Algunos otros cuadros en ecuaciones son p.~ej., $x + y = \fbox{$\Omega$}$ o incluso el que se muestra a continuación (ec.~\ref{eq:cuadrogrande}) y que abarca todo el ancho de la línea:\footnote{Adaptado del manual \emph{Documentation for fancybox.sty:
Box tips and tricks for \LaTeX{}} de Timothy Van Zandt (2010).}

% Ejemplo: Ec. con recuadro (numeración interior).
% ============
\newlength{\milong}
\[
	\setlength{\fboxsep}{15pt}
	\setlength{\milong}{\linewidth}
	\addtolength{\milong}{-2\fboxsep}
	\addtolength{\milong}{-2\fboxrule}
	\fbox{%
		\parbox{\milong}{
		\setlength{\abovedisplayskip}{0pt}
		\setlength{\belowdisplayskip}{0pt}
		\begin{equation}\label{eq:cuadrogrande}
		\sqrt[n]{1+x+x^2+x^3+\ldots}
		\end{equation}}}
\]


\noindent A continuación se muestra un ejemplo de ecuación muy larga dividida en varias líneas:

% Ejemplo: Ec. en varias líneas con alineación y sin numeración.
% ============
\begin{eqnarray*}
  \lefteqn{\left(1+x\right)^n = } \\
  & & 1 + nx + \frac{n\left(n-1\right)}{2!} x^2 + \\
  & & \frac{n\left(n-1\right)\left(n-2\right)}{3!} x^3 + \\
  & & \frac{n\left(n-1\right)\left(n-2\right)\left(n-3\right)}{4!} x^4 + \\
  & & \ldots
\end{eqnarray*}
% Apreciar el asterisco en la ecuación anterior para evitar que todas las líneas de la ecuación aparezcan numeradas.

También se puede escribir varias ecuaciones en líneas sucesivas alineadas por algún elemento como se hace en el siguiente ejemplo de uso del entorno \texttt{align}:

% Ejemplo: Ecs. en varias líneas con alineación y manejo de la numeración.
% ============
\begin{align}
f(x) & = \cos x \\
f'(x) & = -\sin x \\
\int_{0}^{x} f(y)dy & = \sin x \nonumber
\end{align}
\noindent En este último ejemplo se observa también cómo es posible suprimir la numeración de una de las ecuaciones con el comando (\texttt{\textbackslash nonumber}). Un efecto similar sin números de ecuaciones se puede obtener mediante entorno \texttt{split}:
% Ejemplo: Ecs. en varias líneas con alineación sin numeración.
% ============
\[ \begin{split}
    A'+A(A'B+B'C)' 
      &= A'+A(A'B)'(B'C)' \\
      &= A'+A(A+B')(B+C') \\
      &= A'+A(AB+AC'+\overbrace{\cancel{B'B}}^{=\,0}+B'C')\\ 
      &= A'+AB+AC'+AB'C' \\
      & \neq A'
\end{split}\]



Para terminar, un ejemplo más del control del espaciado horizontal empleando el entorno \texttt{array}:

% Ejemplo:
% ============
\[
f(n) = \left\{ 
\begin{array}{l l}
  n/2 & \quad \mbox{si $n$ es par}\\
  -(n+1)/2 & \quad \mbox{si $n$ es impar}\\ 
\end{array} \right. 
\]

\noindent El mismo efecto conseguido, de modo más elegante, mediante el entorno \texttt{cases}:
\[
f(n) =  
\begin{cases}
  n/2      & \text{si $n$ es par}\\
  -(n+1)/2 & \text{si $n$ es impar}
\end{cases} 
\]





\section{Añadiendo unidades del SI}
En la gran mayoría de las ramas científico-técnicas es preciso el empleo de unidades asociadas a las magnitudes físicas que se emplean. En estos casos se emplea habitualmente las unidades del Sistema Internacional (SI). El paquete \texttt{siunitx}\footnote{\url{https://osl.ugr.es/CTAN/macros/latex/contrib/siunitx/siunitx.pdf}} proporciona un modo sencillo de incluir las magnitudes físicas con sus unidades en los documentos preparados con \LaTeX{} de acuerdo a las normas ISO. A continuación se muestran algunos ejemplos de uso:

\begin{itemize}[noitemsep]
	\item \verb|\num{12345}|:$\rightarrow$ \num{12345}
	\item \verb|\num{.12345}|:$\rightarrow$  \num{.12345}
	\item \verb|\num{3.45d-4}|:$\rightarrow$  \num{3.45d-4}
	\item \verb|\num{25e6}|:$\rightarrow$  \num{25e10}
	\item \verb|\ang{1;2;3}|:$\rightarrow$  \ang{1;2;3}
	\item \verb|\si{kg.m/s^2}|:$\rightarrow$  \si{kg.m/s^2}
	\item \verb|\si{\kilo\gram\metre\per\square\second}|:$\rightarrow$  \si{\kilo\gram\metre\per\square\second}
	\item \verb|\SI[mode=text]{1.23}{J.mol^{-1}.K^{-1}}|:$\rightarrow$  \SI[mode=text]{1.23}{J.mol^{-1}.K^{-1}}
	\item \verb|\SI[per-mode=symbol]{1.99}[\$]{\per\kilogram}|:$\rightarrow$  \SI[per-mode=symbol]{1.99}[\$]{\per\kilogram}
	\item \verb|\SI[per-mode=fraction]{1,345}{\coulomb\per\mole}|:$\rightarrow$  \SI[per-mode=fraction]{1,345}{\coulomb\per\mole}
	\item \verb|\SIlist{10;30;45}{\metre}|:$\rightarrow$  \SIlist{10;30;45}{\metre}
	\item \verb|\SIrange{10}{30}{\metre}|:$\rightarrow$  \SIrange{10}{30}{\metre}
	\item \verb|\si{\highlight{red}\kilogram\cancel\metre\per\second}|:$\rightarrow$  \si{\highlight{red}\kilogram\cancel\metre\per\second}
\end{itemize}
\end{document}

